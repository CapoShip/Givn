generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/* ---------------------------------------------
   ENUMS
---------------------------------------------- */

enum BrandStatus {
  PENDING
  APPROVED
  REJECTED
}

/* ---------------------------------------------
   MODELS
---------------------------------------------- */

model Brand {
  id                      String      @id @default(cuid())
  name                    String
  slug                    String
  website                 String?
  logo_url                String?

  credibility_score       Decimal     @default(0) @db.Decimal(10, 2)
  credibility_tier        String      @default("UNVERIFIED")

  proofs_verified_count   Int         @default(0)
  proofs_rejected_count   Int         @default(0)
  proofs_total_amount_usd Decimal     @default(0) @db.Decimal(12, 2)

  // âœ… Le champ qui te manque (pour b.status)
  status                  BrandStatus @default(PENDING)

  created_at              DateTime    @default(now())
  updated_at              DateTime    @updatedAt

  @@map("brand")
}
