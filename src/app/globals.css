@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #020403;
  --foreground: #ffffff;
}

body {
  background-color: var(--background);
  background-image: radial-gradient(circle at 50% -20%, #064e3b 0%, #020403 45%);
  background-attachment: fixed;
  color: var(--foreground);
  overflow-x: hidden;
}

/* --- Utilities --- */
.hide-scrollbar::-webkit-scrollbar { display: none; }
.hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.02); }
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.2); }

.glass-panel {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(12px);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

.glass-panel:hover {
  background: rgba(16, 185, 129, 0.03);
  border-color: rgba(16, 185, 129, 0.2);
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.05);
}

.glow-text { text-shadow: 0 0 30px rgba(16, 185, 129, 0.2); }
.glow-dot-green { box-shadow: 0 0 12px 3px rgba(16, 185, 129, 0.4); }

/* =========================================
   ANIMATIONS DES PUBLICITÉS (LivingAdSlot)
   ========================================= */

/* --- 1. ARBRE RÉALISTE --- */
.tree-path { stroke-dasharray: 300; stroke-dashoffset: 300; }
.ad-grown .tree-path { animation: draw-line 2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

.tree-trunk-grow { transform: scaleY(0); transform-origin: bottom center; }
.ad-grown .tree-trunk-grow { animation: grow-trunk 1.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }

.leaf-cluster { transform: scale(0); transform-origin: center; opacity: 0; }
.ad-grown .leaf-cluster { animation: leaf-pop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

/* Balancement complexe (vent) */
@keyframes sway-complex {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(1deg); }
    75% { transform: rotate(-1.5deg); }
    100% { transform: rotate(0deg); }
}
.tree-sway { animation: sway-complex 8s ease-in-out infinite; transform-origin: bottom center; }

@keyframes grow-trunk {
    from { transform: scaleY(0); }
    to { transform: scaleY(1); }
}

@keyframes leaf-pop {
    0% { transform: scale(0); opacity: 0; }
    60% { transform: scale(1.1); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

/* --- 2. ROBINET (EAU) --- */
@keyframes water-flow-shimmer {
    0% { stroke-dashoffset: 24; opacity: 0.8; }
    50% { opacity: 1; }
    100% { stroke-dashoffset: 0; opacity: 0.8; }
}
.water-stream-flow {
    stroke-dasharray: 12 6;
    animation: water-flow-shimmer 0.4s linear infinite;
}

@keyframes splash-impact {
    0% { transform: scale(0.8, 0.5); opacity: 0.5; }
    50% { transform: scale(1.2, 0.8); opacity: 0.8; }
    100% { transform: scale(0.8, 0.5); opacity: 0.5; }
}
.splash-core { animation: splash-impact 0.3s ease-in-out infinite; transform-origin: center bottom; }

@keyframes pump-crank {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(12deg); }
}
.pump-handle-anim { animation: pump-crank 3s ease-in-out infinite; transform-origin: 42px 50px; }

/* --- 3. OCÉAN (MÉDUSE) --- */
@keyframes jelly-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}
.jelly-move { animation: jelly-float 6s ease-in-out infinite; }

@keyframes tentacles-wave {
    0%, 100% { d: path("M 38 95 Q 35 110 40 125"); }
    50% { d: path("M 38 95 Q 41 110 36 125"); }
}
/* Note: L'animation de path SVG via CSS est complexe, on utilise transform ici pour simplifier */
.tentacle-sway { animation: sway-complex 4s ease-in-out infinite; transform-origin: top center; }

/* --- AUTRES ANIMATIONS --- */
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes draw-line { to { stroke-dashoffset: 0; } }
@keyframes pop-scale { to { transform: scale(1); } }
@keyframes grow-up { to { transform: scaleY(1); } }
@keyframes drop-in { to { transform: translateY(0) scale(1); opacity: 1; } }
@keyframes slide-right { to { transform: scaleX(1); opacity: 1; } }
@keyframes fade-in { to { opacity: 1; } }
@keyframes fade-in-out { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

/* Classes génériques */
.turbine-spin-fast { animation: spin 2s linear infinite; transform-origin: 50px 45px; transform-box: view-box; }
.ad-grown .house-base { animation: grow-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
.ad-grown .house-pop { animation: pop-scale 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
.animate-ad-grow { animation: ad-grow 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
.animate-wither { animation: wither 0.6s ease-in forwards; }

@keyframes ad-grow { 
    0% { transform: scale(0) translateX(-20px) rotate(-10deg); opacity: 0; } 
    60% { transform: scale(1.05) translateX(0) rotate(2deg); opacity: 1; } 
    100% { transform: scale(1) translateX(0) rotate(0); opacity: 1; } 
}
@keyframes wither { 
    0% { opacity: 1; transform: scale(1); filter: blur(0); } 
    100% { opacity: 0; transform: scale(0.9) translateY(10px); filter: blur(4px); } 
}

/* Animations de particules */
.firefly { animation: firefly-float 5s infinite; }
@keyframes firefly-float {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    50% { opacity: 1; }
    25% { transform: translate(10px, -10px); }
    75% { transform: translate(-10px, -20px); }
}

.energy-particle { animation: energy-flow 1.5s linear infinite; }
@keyframes energy-flow {
    0% { transform: translate(0,0) scale(0.5); opacity: 0.8; }
    100% { transform: translate(30px, -30px) scale(0); opacity: 0; }
}